<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë”í™ˆì ê²€ - ë¼ì´ì„ ìŠ¤ ìƒì„±ê¸° (ê´€ë¦¬ì ì „ìš©)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f1f5f9;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.3);
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .card {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            color: #10b981;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input, select {
            width: 100%;
            padding: 14px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #f1f5f9;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .result h3 {
            color: #10b981;
            margin-bottom: 15px;
        }

        .license-key {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 24px;
            text-align: center;
            letter-spacing: 2px;
            margin: 15px 0;
            color: #10b981;
            border: 1px solid #10b981;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #94a3b8;
        }

        .info-value {
            color: #f1f5f9;
            font-weight: bold;
        }

        .btn-copy {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid #10b981;
            color: #10b981;
            padding: 12px;
            margin-top: 10px;
        }

        .history {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid #10b981;
        }

        .history-item .key {
            font-family: monospace;
            color: #10b981;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .history-item .details {
            font-size: 13px;
            color: #94a3b8;
        }

        .warning {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid #ef4444;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: #fca5a5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”‘ ë¼ì´ì„ ìŠ¤ ìƒì„±ê¸°</h1>
            <p>ë”í™ˆì ê²€ì•± ê´€ë¦¬ì ì „ìš© ë„êµ¬</p>
        </div>

        <div class="warning">
            âš ï¸ <strong>ê´€ë¦¬ì ì „ìš©</strong><br>
            ì´ í˜ì´ì§€ëŠ” ë”í™ˆì ê²€ ê´€ë¦¬ìë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
            ìƒì„±ëœ ë¼ì´ì„ ìŠ¤ í‚¤ëŠ” ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ê³  ê³ ê°ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”.
        </div>

        <div class="card">
            <h2 style="margin-bottom: 20px; color: #10b981;">ìƒˆ ë¼ì´ì„ ìŠ¤ ìƒì„±</h2>
            
            <div class="form-group">
                <label>ê³ ê°ëª… (ì„ íƒ)</label>
                <input type="text" id="customerName" placeholder="ì˜ˆ: ê¹€ì² ìˆ˜">
            </div>

            <div class="form-group">
                <label>ì—…ì²´ëª… (ì„ íƒ)</label>
                <input type="text" id="companyName" placeholder="ì˜ˆ: OOì ê²€">
            </div>

            <div class="form-group">
                <label>ìœ íš¨ê¸°ê°„</label>
                <select id="duration">
                    <option value="1">1ê°œì›”</option>
                    <option value="3">3ê°œì›”</option>
                    <option value="6" selected>6ê°œì›”</option>
                    <option value="12">12ê°œì›”</option>
                    <option value="24">24ê°œì›”</option>
                </select>
            </div>

            <button class="btn" onclick="generateLicense()">
                ğŸ”‘ ë¼ì´ì„ ìŠ¤ ìƒì„±
            </button>

            <div id="result" class="result">
                <h3>âœ… ë¼ì´ì„ ìŠ¤ ìƒì„± ì™„ë£Œ</h3>
                
                <div class="license-key" id="licenseKey"></div>
                
                <button class="btn btn-copy" onclick="copyLicense()">
                    ğŸ“‹ ë¼ì´ì„ ìŠ¤ í‚¤ ë³µì‚¬
                </button>

                <div style="margin-top: 20px;">
                    <div class="info-row">
                        <span class="info-label">ê³ ê°ëª…</span>
                        <span class="info-value" id="displayCustomer">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ì—…ì²´ëª…</span>
                        <span class="info-value" id="displayCompany">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ë°œê¸‰ì¼</span>
                        <span class="info-value" id="displayIssue">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ë§Œë£Œì¼</span>
                        <span class="info-value" id="displayExpiry">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ìœ íš¨ê¸°ê°„</span>
                        <span class="info-value" id="displayDuration">-</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2 style="margin-bottom: 20px; color: #10b981;">ìƒì„± ë‚´ì—­</h2>
            <div id="history" class="history"></div>
        </div>
    </div>

    <script>
        // ìƒì„± ë‚´ì—­ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('license_history') || '[]');
            const historyDiv = document.getElementById('history');
            
            if (history.length === 0) {
                historyDiv.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 20px;">ìƒì„±ëœ ë¼ì´ì„ ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            historyDiv.innerHTML = history.map(item => `
                <div class="history-item">
                    <div class="key">${item.key}</div>
                    <div class="details">
                        ${item.customer ? 'ê³ ê°: ' + item.customer + ' | ' : ''}
                        ${item.company ? 'ì—…ì²´: ' + item.company + ' | ' : ''}
                        ë°œê¸‰: ${item.issueDate} | 
                        ë§Œë£Œ: ${item.expiryDate} | 
                        ${item.duration}ê°œì›”
                    </div>
                </div>
            `).reverse().join('');
        }

        // ë¼ì´ì„ ìŠ¤ ìƒì„±
        function generateLicense() {
            const customerName = document.getElementById('customerName').value.trim();
            const companyName = document.getElementById('companyName').value.trim();
            const duration = parseInt(document.getElementById('duration').value);
            
            // í˜„ì¬ ë‚ ì§œ
            const now = new Date();
            const yy = String(now.getFullYear()).substring(2);
            const mm = String(now.getMonth() + 1).padStart(2, '0');
            const dd = String(now.getDate()).padStart(2, '0');
            
            // ëœë¤ ì½”ë“œ ìƒì„±
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            const key = `THOME-${yy}${mm}${dd}-${code}`;
            
            // ë§Œë£Œì¼ ê³„ì‚°
            const expiryDate = new Date(now);
            expiryDate.setMonth(expiryDate.getMonth() + duration);
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('licenseKey').textContent = key;
            document.getElementById('displayCustomer').textContent = customerName || '-';
            document.getElementById('displayCompany').textContent = companyName || '-';
            document.getElementById('displayIssue').textContent = now.toLocaleDateString('ko-KR');
            document.getElementById('displayExpiry').textContent = expiryDate.toLocaleDateString('ko-KR');
            document.getElementById('displayDuration').textContent = duration + 'ê°œì›”';
            document.getElementById('result').style.display = 'block';
            
            // ë‚´ì—­ ì €ì¥
            const history = JSON.parse(localStorage.getItem('license_history') || '[]');
            history.push({
                key: key,
                customer: customerName,
                company: companyName,
                issueDate: now.toLocaleDateString('ko-KR'),
                expiryDate: expiryDate.toLocaleDateString('ko-KR'),
                duration: duration,
                timestamp: now.toISOString()
            });
            localStorage.setItem('license_history', JSON.stringify(history));
            
            // ë‚´ì—­ ê°±ì‹ 
            loadHistory();
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('customerName').value = '';
            document.getElementById('companyName').value = '';
        }

        // ë¼ì´ì„ ìŠ¤ í‚¤ ë³µì‚¬
        function copyLicense() {
            const key = document.getElementById('licenseKey').textContent;
            navigator.clipboard.writeText(key).then(() => {
                alert('âœ… ë¼ì´ì„ ìŠ¤ í‚¤ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n' + key);
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë‚´ì—­ ë¶ˆëŸ¬ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', loadHistory);
    </script>
</body>
</html>
